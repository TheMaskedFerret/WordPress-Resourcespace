(function(e){function t(t){for(var r,i,o=t[0],c=t[1],l=t[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(f.length)f.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],r=!0,o=1;o<s.length;o++){var c=s[o];0!==n[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=s[0]))}return e}var r={},n={app:0},a=[];function i(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=r,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(s,r,function(t){return e[t]}.bind(null,r));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},1601:function(e,t,s){},"209d":function(e,t,s){"use strict";var r=s("ecc4"),n=s.n(r);n.a},2828:function(e,t,s){},"2a78":function(e,t,s){"use strict";var r=s("f4ba"),n=s.n(r);n.a},"507e":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[e.modalCase?e._e():s("SearchForm",{attrs:{onSelect:e.insertInto,showTitle:!0}}),e.modalCase?s("Modal",{attrs:{show:e.show,onSelect:e.insertInto},on:{close:function(t){e.show=!1}}}):e._e()],1)},a=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"resourcespace-adra"},[e.selectedResourceId?s("div",[s("ReseourceDetails",{attrs:{resourceId:e.selectedResourceId},on:{hideDetails:e.doHideDetails}})],1):s("div",[s("div",{staticClass:"resourcespace-adra-search-form"},[e.showTitle?s("h1",[e._v("Search ResourceSpace")]):e._e(),s("div",{staticClass:"adra-main-search-form"},[s("div",{staticClass:"main-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],attrs:{type:"text"},domProps:{value:e.searchValue},on:{input:[function(t){t.target.composing||(e.searchValue=t.target.value)},function(t){return t.preventDefault(),e.update({fieldName:"resourcespace_search",value:t.target.value})}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.submitSearch(t))}}})]),s("div",{staticClass:"search-button-wrapper"},[s("a",{staticClass:"default-button",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.submitSearch(t)}}},[s("i",{staticClass:"fa fa-search"})]),s("a",{staticClass:"default-button",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.resetSearchForm(t)}}},[s("i",{staticClass:"far fa-window-close"})]),e.formFields["main_form"]?s("a",{staticClass:"default-button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.showResourceType=!e.showResourceType}}},[e._v("Options")]):e._e(),e.formFields["main_form"]?s("a",{staticClass:"default-button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.advancedSerchFormIsExpanded=!e.advancedSerchFormIsExpanded}}},[e._v("Advanced Search")]):e._e()]),s("div",[e.formFields["main_form"]&&e.showResourceType?s("ResourceTypeInput",{attrs:{fieldDef:e.formFields["main_form"]},on:{input:e.update}}):e._e()],1)]),s("div",{staticStyle:{clear:"both"}}),e.advancedSerchFormIsExpanded?s("div",{staticClass:"adra-advanced-search-form"},[s("AdvancedSearch",{attrs:{formFields:e.formFields},on:{input:e.update}})],1):e._e(),s("div",{staticStyle:{clear:"both"}})]),e.searchResultsCounter>0?s("div",[e._v(" "+e._s(e.searchResultsCounter+" results")+" ")]):e._e(),s("div",{attrs:{id:"rs-results"}},e._l(e.searchResults,(function(t){return s("ResourceList",{key:"resourceList_"+t.ref,attrs:{resource:t},on:{selectResource:e.setSelectedResource}})})),1),e.searchResultsCounter>0?s("infinite-loading",{on:{infinite:e.loadMore}},[s("div",{attrs:{slot:"no-more"},slot:"no-more"},[e._v("No more resources.")]),s("div",{attrs:{slot:"no-results"},slot:"no-results"},[e._v("No more resources.")])]):s("div",[-1!=e.searchResultsCounter?s("h2",{staticStyle:{color:"red"}},[e._v("No results")]):e._e()])],1)])},o=[],c=(s("b0c0"),s("d3b7"),s("2909")),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"img-wrapper"},[s("a",{staticClass:"img",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.getDetais(t)}}},[s("img",{staticClass:"rs-img",attrs:{src:e.resource.url}})])])},u=[],d={name:"ResourceList",props:["resource"],data:function(){return{}},mounted:function(){this.$emit("resourceMounted",{})},methods:{getDetais:function(){this.$emit("selectResource",{resourceId:this.resource.ref})}}},f=d,h=(s("66e9"),s("2877")),m=Object(h["a"])(f,l,u,!1,null,"52fbf920",null),p=m.exports,v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"resource-type-input"}},[s("div",{staticStyle:{clear:"both"}}),s("div",{staticClass:"resource-type-input-wrapper"},[e._l(e.fieldDef,(function(t,r){return[t.hasOwnProperty("checked")?s("div",{key:r,staticClass:"resource-type-item"},[s("input",{ref:"_"+t.resourceId,refInFor:!0,attrs:{type:"checkbox",name:"resource_id[]",id:"_"+t.resourceId},domProps:{value:t.resourceId,checked:t.checked},on:{change:function(s){return e.onChange(t.resourceId)}}}),s("label",{attrs:{for:"_"+t.resourceId}},[e._v(e._s(t.label)+" ")]),s("br")]):e._e()]}))],2)])},_=[],b={name:"ResourceTypeInput",props:["fieldDef"],mounted:function(){for(var e in this.fieldDef)this.selectedResources[this.fieldDef[e].resourceId]=this.fieldDef[e].checked;this.$emit("input",{fieldName:"resource_id",value:this.selectedResources})},watch:{fieldDef:function(e){for(var t=0;t<e.length;t++)e[t].hasOwnProperty("checked")&&(document.getElementById("_"+e[t].resourceId).checked=e[t].checked)}},methods:{onChange:function(e){this.selectedResources[e]=document.getElementById("_"+e).checked,this.$emit("input",{fieldName:"resource_id",value:this.selectedResources})}},data:function(){return{selectedResources:{}}}},y=b,C=(s("cea3"),Object(h["a"])(y,v,_,!1,null,"52cdee7a",null)),S=C.exports,g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"advanced-search"},[s("tabs",[s("tab",{attrs:{title:"Main Fields"}},e._l(e.formFields.first_tab,(function(t,r){return s("CustomInput",{key:r,attrs:{fieldDef:t,index:r},on:{input:function(s){return e.update(t.name,s)},inputDate:function(s){return e.update(t.name,s)}}})})),1),s("tab",{attrs:{title:"All Fields"}},e._l(e.formFields.second_tab,(function(t,r){return s("CustomInput",{key:r,attrs:{fieldDef:t,index:r},on:{input:function(s){return e.update(t.name,s)},inputDate:function(s){return e.update(t.name,s)}}})})),1)],1),s("div",{staticStyle:{clear:"both"}})],1)},x=[],w=s("0652"),D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[s("div",{staticClass:"custom-input"},["text"==e.fieldDef.type?s("TextInput",{attrs:{fieldDef:e.fieldDef,value:e.fieldDef.value},on:{input:function(t){return e.update(e.fieldDef.name,t)}}}):e._e(),"select"==e.fieldDef.type?s("CustomSelect",{attrs:{fieldDef:e.fieldDef,value:e.fieldDef.value},on:{input:function(t){return e.update(e.fieldDef.name,t)}}}):e._e(),"date"==e.fieldDef.type?s("CustomMonthlyPicker",{attrs:{fieldDef:e.fieldDef,"v-model":e.selectedMonth,value:e.tmp},on:{input:function(t){return e.updateDate(e.fieldDef.name,t)}}}):e._e()],1),e.index%2==1?s("div",{staticStyle:{clear:"both"}}):e._e()])},k=[],I=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-input"},[s("label",[e._v(e._s(e.fieldDef.label))]),s("input",{attrs:{type:"text"},domProps:{value:e.value},on:{input:function(t){return e.update("value",t.target.value)}}})])},R=[],F={name:"TextInput",props:["fieldDef","value"],mounted:function(){this.fieldDef.value=this.value},methods:{update:function(e,t){this.value=t,this.$emit("input",t)}}},M=F,O=(s("af02"),Object(h["a"])(M,I,R,!1,null,"e4b3e51c",null)),Y=O.exports,$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"custom-select"},[s("label",[e._v(e._s(e.fieldDef.label)+" "+e._s(e.value))]),s("select",{ref:"selectBox",attrs:{name:e.fieldDef.name},on:{input:function(t){return e.update(e.fieldDef.name,t.target.value)}}},[e._l(e.fieldDef.options,(function(t,r){return[s("option",{key:r,domProps:{value:t.key,selected:t.key==e.value}},[e._v(e._s(t.value))])]}))],2)])},j=[],P={name:"CustomSelect",props:["fieldDef","value"],methods:{update:function(e,t){this.$emit("input",t)}},watch:{value:function(e,t){this.$refs.selectBox.value=e}},data:function(){return{hasBeenSelected:!1}}},V=P,T=(s("af73"),Object(h["a"])(V,$,j,!1,null,"485ad3a5",null)),N=T.exports,E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vue-monthly-picker"},[s("label",[e._v(e._s(e.fieldDef.label))]),s("div",{staticClass:"month-picker-wrapper",class:{"active visible":e.showMenu}},[s("div",{staticClass:"month-year-label picker",attrs:{type:"text",autocomplete:"off",tabindex:"0"},on:{click:e.openMenu}},[s("div",{staticClass:"month-year-display",class:[e.inputClass,{placeholder:!e.value}],attrs:{disabled:e.disabled},on:{click:e.openMenu}},[s("div",{staticClass:"display-text",class:"display-text-"+e.alignment,style:[{"text-align":e.alignment}]},[e._v(e._s(e.displayText))]),e.clearOption&&e.value?s("span",{staticClass:"vmp-input-append",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.clearSelect(t)}}},[s("i",{staticClass:"vmp-clear-icon"})]):e._e()])]),s("div",{staticClass:"text"}),s("div",{staticClass:"date-popover",class:e.menuClass,style:e.menuStyle,attrs:{tabindex:"-1"}},[s("div",{staticClass:"picker",staticStyle:{"text-align":"center"}},[s("div",{staticClass:"flexbox"},[s("span",{staticClass:"prev",class:{deactive:!e.canBack},on:{click:e.prevYear}}),s("div",[e._v(e._s(e.year))]),s("span",{staticClass:"next",class:{deactive:!e.canNext},on:{click:e.nextYear}})]),s("div",{staticClass:"flexbox monthItem"},[e._l(e.monthLabels,(function(t,r){return[e.isActive(r)?s("div",{key:r,staticClass:"item active",class:{selected:e.isCurrentSelected(e.year,r)},style:[{"background-color":e.getBackgroundColor(e.year,r)}],on:{click:function(t){return e.selectMonth(r)}}},[e._v(e._s(t)+" ")]):s("div",{key:r,staticClass:"item deactive",class:{selected:e.isCurrentSelected(e.year,r)}},[e._v(" "+e._s(t)+" ")])]}))],2)])])])])},B=[],L=(s("c975"),s("a9e3"),s("25f0"),{name:"CustomMonthlyPicker",props:{fieldDef:{},value:{default:null},disabled:{type:Boolean,default:!1},inputClass:{default:"input"},placeHolder:{type:String,default:""},alignment:{type:String,default:"left",validator:function(e){return-1!==["left","right","center"].indexOf(e)}},selectedBackgroundColor:{type:String,default:"#007bff"},monthLabels:{type:Array,default:function(){return["1","2","3","4","5","6","7","8","9","10","11","12"]}},min:{default:null},max:{default:null},dateFormat:{type:String,default:"YYYY/MM"},clearOption:{type:Boolean,default:!0}},data:function(){return{showMenu:!1,year:moment().format("YYYY"),month:moment().format("MM"),selected:!1}},mounted:function(){this.init()},watch:{value:function(e){this.setValue(e)}},computed:{menuClass:function(){return{visible:this.showMenu,hidden:!this.showMenu}},menuStyle:function(){return{display:this.showMenu?"block":"none",left:"right"===this.alignment?"100%":"center"===this.alignment?"50%":"",transform:"right"===this.alignment?"translate(-100%,0)":"center"===this.alignment?"translate(-50%,0)":""}},displayText:function(){var e="";return e=this.selected?this.year+"/"+this.month:"",e},canBack:function(){if(!this.min)return!0;var e=this.internalMomentValue.clone().startOf("year");return this.min.isBefore(e)},canNext:function(){if(!this.max)return!0;var e=this.internalMomentValue.clone().endOf("year");return e.isBefore(this.max)},internalMomentValue:function(){var e=this.year+"-0"+this.month;return this.month.length>1&&(e=this.year+"-"+this.month),moment(e,"YYYY-MM")}},methods:{init:function(){var e=this;document.addEventListener("click",(function(t){e.$el&&!e.$el.contains(t.target)&&e.closeMenu()}),!1),this.setValue(this.value)},openMenu:function(){this.disabled||(this.showMenu=!0)},closeMenu:function(){this.showMenu=!1},prevYear:function(){if(this.canBack){var e=parseInt(this.year)-1;this.year=e.toString()}},nextYear:function(){if(this.canNext){var e=parseInt(this.year)+1;this.year=e.toString()}},selectMonth:function(e){this.selected=!0,this.month=(parseInt(e)+1).toString(),this.selectPicker(),this.closeMenu()},selectPicker:function(){this.$emit("input",this.internalMomentValue.clone()._i),this.$emit("selected",this.internalMomentValue.clone())},setValue:function(e){"string"===typeof e&&(e=moment(e)),e&&e.isValid()&&(this.month=e.format("MM"),this.year=e.format("YYYY"))},isActive:function(e){var t=e+1,s=this.year+"/"+(t<10?"0"+t:t);return(!this.min||!moment(s,"YYYY/MM").isBefore(this.min))&&(!this.max||!moment(s,"YYYY/MM").isAfter(this.max))},isCurrentSelected:function(e,t){if(!this.value)return!1;var s=this.value;if(s="string"===typeof this.value?moment(this.value):moment(),s&&s.isValid()){var r=s.format("MM"),n=s.format("YYYY");return Number(r)===Number(t+1)&&Number(n)===Number(e)}return!1},getBackgroundColor:function(e,t){if(this.isCurrentSelected(e,t))return this.selectedBackgroundColor},clearSelect:function(){this.selected=!1,this.$emit("input",""),this.$emit("selected",null)}}}),z=L,A=(s("2a78"),Object(h["a"])(z,E,B,!1,null,"31977497",null)),J=A.exports,H={name:"CustomInput",components:{CustomSelect:N,TextInput:Y,CustomMonthlyPicker:J},props:["fieldDef","index"],methods:{update:function(e,t){this.$emit("input",t)},updateDate:function(e,t){this.$emit("inputDate",{value:t,type:"date"})}},data:function(){return{selectedMonth:moment(),tmp:moment(null)}}},W=H,q=(s("209d"),Object(h["a"])(W,D,k,!1,null,"5195630e",null)),G=q.exports,K={name:"AdvancedSearch",components:{Tabs:w["b"],Tab:w["a"],CustomInput:G},props:["formFields"],mounted:function(){},methods:{update:function(e,t){this.$emit("input",{fieldName:e,value:t})}}},Q=K,U=(s("3a64"),s("772f"),Object(h["a"])(Q,g,x,!1,null,"17bbd0f4",null)),X=U.exports,Z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"resource-details",attrs:{id:"detail_container_"+e.resourceId}},[s("div",{staticClass:"back"},[s("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.doBack(t)}}},[e._v("< Back to Resources")])]),e.resourceDetails?s("div",[s("div",{staticClass:"container"},[s("div",{staticClass:"imgContainer"},[s("img",{attrs:{src:e.resourceDetails.images["pre"].url}}),s("div",[e.importing?s("div",{staticClass:"fa-3x"},[s("center",[s("i",{staticClass:"fas fa-spinner fa-spin"})])],1):[0==e.resourceDetails.imported?[s("button",{staticClass:"blue-buttom",attrs:{type:"button",disabled:e.disableImport},on:{click:function(t){return t.preventDefault(),e.inserInMediaLibrary(t)}}},[e._v("Copy to Media Library")])]:[s("button",{staticClass:"blue-buttom",attrs:{type:"button",id:"inserted",disabled:e.disableImport}},[e._v(" ✔ Image in Media Library")])]]],2),s("button",{staticClass:"blue-buttom",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.copyToClipboard(t)}}},[e._v("Copy Shortcode (size:"+e._s(e.selectedSizeText)+")")])]),s("div",{staticClass:"detailsContainer"},[s("h2",{staticClass:"properties"},[e._v("Resource Properties")]),s("label",[e._v("Size")]),s("select",{on:{change:function(t){return e.doChangeSize(t)}}},[s("option",{domProps:{value:e.full}},[e._v("Full")]),e._l(e.resourceDetails.images,(function(t,r){return[s("option",{key:r,domProps:{value:r}},[e._v(e._s(t["name"]))])]}))],2),s("hr"),e._l(Object.entries(e.resourceDetails.fields),(function(t,r){return[s("div",{key:"field_"+r+"_"+e.resourceId,staticClass:"row-details"},[s("label",[e._v(e._s(t[0])+":")]),s("span",{staticClass:"details"},[e._v(e._s(t[1]))])])]}))],2)])]):s("div",[s("div",{staticClass:"fa-3x"},[s("center",[s("i",{staticClass:"fas fa-spinner fa-spin"})])],1)])])},ee=[],te=s("1157"),se=s.n(te),re={name:"ResourceDetails",props:["resourceId","onSelect"],data:function(){return{disableImport:!1,importing:!1,resourceDetails:!1,selectedSize:"full"}},computed:{buttonText:function(){return"copyClipboard"==this.onSelect?"copy shortcode":"mediaLibrary"==this.onSelect?"insert into media library":"insert shortcode"},selectedSizeText:function(){return"full"==this.selectedSize?"Full":this.resourceDetails.images[this.selectedSize].name}},watch:{resourceDetails:function(e){}},mounted:function(){this.getResourceDetails()},methods:{doChangeSize:function(e){this.selectedSize=e.target.value},doBack:function(){this.$emit("hideDetails",{id:this.resourceId})},getResourceDetails:function(){var e=this;this.resourceDetails=!1;var t="?action=resourcespace_get_resource_details&resource_id="+this.resourceId,s=this;fetch(window.ajaxurl+t).then((function(e){return e.json()})).then((function(t){var r="?action=resourcespace_check_media_library&resource_id="+e.resourceId;fetch(window.ajaxurl+r).then((function(e){return e.json()})).then((function(e){t.imported=e,s.resourceDetails=t})).catch((function(e){t.imported=0,s.resourceDetails=t}))}))},inserInMediaLibrary:function(){var e=this,t=this.resourceId,s={action:"resourcespace_insert_into_media_library",resource:this.resourceDetails,resourceId:t},r=this;this.disableImport=!0,this.importing=!0,se.a.post(window.ajaxurl,s).then((function(t){JSON.parse(t)["uploaded"]?e.resourceDetails.imported=1:e.resourceDetails.imported=0,r.disableImport=!1,r.importing=!1}))},copyToClipboard:function(){var e=this.resourceId,t=this.selectedSize,s="[resourcespace id="+e+"]";"full"!=t&&(s="[resourcespace id="+e+" size_id="+t+"]");var r=document.createElement("textarea");r.value=s,r.setAttribute("readonly",""),r.style={position:"absolute",left:"-9999px"},document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),alert("Copied the text: "+s)}}},ne=re,ae=(s("b1e1"),Object(h["a"])(ne,Z,ee,!1,null,"3c59e501",null)),ie=ae.exports,oe=s("e166"),ce=s.n(oe),le={name:"SearchForm",props:["onSelect","showTitle","clean"],components:{ResourceList:p,ResourceTypeInput:S,AdvancedSearch:X,InfiniteLoading:ce.a,ReseourceDetails:ie},data:function(){return{resultsOffset:0,offsetStep:20,searchedTerm:"",formFields:[],searchFormSelectedValues:{},searchResults:[],searchResultsCounter:-1,currentResource:0,showAdvancedForm:!1,advancedSerchFormIsExpanded:!1,searchValue:"",showNoResults:!1,containerWidth:0,displayOnIndex:-1,selectedIndex:-1,selectedResourceDetails:!1,defaultResources:!1,busy:!1,currentPage:0,selectedResourceId:!1,canSearch:!0,showResourceType:!1}},watch:{clean:function(e){e&&(this.searchValue="",this.searchResults=!1,this.searchFormSelectedValues={})}},mounted:function(){this.getSerchForm()},methods:{doHideDetails:function(e){this.selectedResourceId=!1},loadMore:function(e){if(!this.canSearch)return e.complete(),!1;this.currentPage<this.searchResultsCounter/this.offsetStep&&this.getSearchResults(e)},resetSearchForm:function(){if(this.searchValue="",this.searchResults="",this.showAdvancedForm){var e=0;for(e=0;e<this.formFields.second_tab.length;e++)this.formFields.second_tab[e].value=this.formFields.second_tab[e].default_value;for(e=0;e<this.formFields.first_tab.length;e++)this.formFields.first_tab[e].value=this.formFields.first_tab[e].default_value;this.defaultResources.push([]),this.formFields.main_form=this.defaultResources}this.searchFormSelectedValues=[]},update:function(e){if(this.searchFormSelectedValues[e.fieldName]=e.value,this.formFields.hasOwnProperty("first_tab")){for(var t=0;t<this.formFields.first_tab.length;t++)this.formFields.first_tab[t].name==e.fieldName&&(this.formFields.first_tab[t].value=e.value);for(var s=0;s<this.formFields.second_tab.length;s++)this.formFields.second_tab[s].name==e.fieldName&&(this.formFields.second_tab[s].value=e.value)}},getSerchForm:function(){var e=this,t="?action=resourcespace_get_form_fields",s=this;fetch(window.ajaxurl+t).then((function(e){return e.json()})).then((function(t){if(s.formFields=t,!e.defaultResources){s.defaultResources=[];for(var r=0;r<t.main_form.length;r++)s.defaultResources.push(t.main_form[r])}s.showAdvancedForm=!0}))},getSearchResults:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t&&this.canSearch){var s={action:"resourcespace_get_search_results",offset:this.resultsOffset,size:"pre"};for(var r in this.searchFormSelectedValues)this.searchFormSelectedValues.hasOwnProperty(r)&&("limit"==r&&(this.offsetStep=this.searchFormSelectedValues[r]),s[r]=this.searchFormSelectedValues[r]);this.showNoResults=!1;var n=this;se.a.post(window.ajaxurl,s).then((function(s){var r,a=JSON.parse(s);(r=n.searchResults).push.apply(r,Object(c["a"])(a)),n.currentPage+=1,n.resultsOffset+=n.offsetStep,t&&(a.length<n.offsetStep?(t.complete(),e.canSearch=!1):t.loaded())}))}else t&&t.loaded()},getSearchResultsCounter:function(){var e={action:"resourcespace_get_search_results_counter"};for(var t in this.searchFormSelectedValues)this.searchFormSelectedValues.hasOwnProperty(t)&&"limit"!=t&&(e[t]=this.searchFormSelectedValues[t]);var s=this;s.searchResultsCounter=-1,se.a.post(window.ajaxurl,e).then((function(e){s.searchResultsCounter=JSON.parse(e)}))},submitSearch:function(){this.resultsOffset=0,this.currentPage=0,this.searchResults=[],this.canSearch=!0,this.getSearchResultsCounter()},setSelectedResource:function(e){this.selectedResourceId!=e.resourceId&&(this.selectedResourceId=e.resourceId)},selectedDate:function(e){this.searchFormSelectedValues["month_interval"]=e?e.format("YYYY|MM")+"|01":null},resourceSelected:function(e){this.currentResource=0,this.$emit("resourceSelected",e)}}},ue=le,de=(s("6e0e"),Object(h["a"])(ue,i,o,!1,null,"190cecda",null)),fe=de.exports,he=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("transition",{attrs:{name:"modal"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"modal-mask",on:{click1:e.close}},[s("div",{staticClass:"modal-container",on:{click:function(e){e.stopPropagation()}}},[s("div",{staticClass:"modal-header"},[s("div",{staticClass:"modal-title"},[s("h1",[e._v("Search ResourceSpace")])]),s("div",{staticClass:"modal-close"},[s("i",{staticClass:"fas fa-times",on:{click:function(t){return e.close(!1)}}})])]),s("div",{staticClass:"modal-body"},[s("SearchForm",{attrs:{onSelect:e.onSelect,showTitle:!1,clean:e.show},on:{resourceSelected:function(t){return e.close(t)}}})],1)])])])],1)},me=[],pe={name:"VueModal",components:{SearchForm:fe},data:function(){return{resourceDetails:!1,resourceFields:[],resourceImages:[]}},props:["show","onSelect"],methods:{close:function(e){this.$emit("close"),e&&0!==this.onSelect.indexOf("widgetInsert")&&this.$emit("resourceSelected",e)}},mounted:function(){var e=this;document.addEventListener("keydown",(function(t){e.show&&27==t.keyCode&&e.close(!1)}))},watch:{show:function(e,t){var s=document.getElementsByClassName("edit-post-header");s.length&&(s[0].style.zIndex=e?"auto":"30")}}},ve=pe,_e=(s("aa01"),Object(h["a"])(ve,he,me,!1,null,"6e41ebb9",null)),be=_e.exports,ye={name:"app",components:{SearchForm:fe,Modal:be},props:["modalCase","insertInto"],data:function(){return{show:!0}}},Ce=ye,Se=Object(h["a"])(Ce,n,a,!1,null,null,null),ge=Se.exports;r["a"].config.productionTip=!1,window.displaySearchMediaLibraryFrom=function(e,t){var s=new r["a"]({render:function(s){return s(ge,{props:{modalCase:e,insertInto:t}})}}).$mount("#searchFrom");return s}},5913:function(e,t,s){},"63fc":function(e,t,s){},"66e9":function(e,t,s){"use strict";var r=s("f624"),n=s.n(r);n.a},"6e0e":function(e,t,s){"use strict";var r=s("98f5"),n=s.n(r);n.a},"772f":function(e,t,s){"use strict";var r=s("5913"),n=s.n(r);n.a},"98f5":function(e,t,s){},a58a:function(e,t,s){},aa01:function(e,t,s){"use strict";var r=s("507e"),n=s.n(r);n.a},af02:function(e,t,s){"use strict";var r=s("a58a"),n=s.n(r);n.a},af73:function(e,t,s){"use strict";var r=s("1601"),n=s.n(r);n.a},b1e1:function(e,t,s){"use strict";var r=s("2828"),n=s.n(r);n.a},cea3:function(e,t,s){"use strict";var r=s("63fc"),n=s.n(r);n.a},ecc4:function(e,t,s){},f4ba:function(e,t,s){},f624:function(e,t,s){}});
//# sourceMappingURL=app.js.map